# 공학용 계산기 웹앱 PRD (Product Requirements Document)

## 1. 프로젝트 개요

### 1.1 프로젝트 명
**Engineering Calculator Web App** - 공학용 전자계산기 웹 애플리케이션

### 1.2 목적
모던하고 직관적인 UI/UX를 갖춘 공학용 계산기 웹 애플리케이션을 개발하여, 사용자가 기본 산술 연산부터 고급 과학 함수까지 손쉽게 계산할 수 있도록 지원합니다.

### 1.3 목표 사용자
- 학생 (중/고등학생, 대학생)
- 엔지니어 및 연구원
- 일반 사용자 (과학 계산이 필요한 모든 사용자)

### 1.4 핵심 가치 제안
- **모던한 디자인**: 다크모드를 기본으로 한 세련된 UI
- **직관적인 UX**: 터치 및 클릭에 최적화된 인터페이스
- **완전한 공학 기능**: 삼각함수, 로그, 지수 등 모든 과학 함수 지원
- **반응형 디자인**: 모바일, 태블릿, 데스크톱 모든 기기 지원

---

## 2. 기능 요구사항

### 2.1 핵심 기능 (MVP)

#### 2.1.1 기본 산술 연산
- **사칙연산**: 덧셈(+), 뺄셈(−), 곱셈(×), 나눗셈(÷)
- **백분율 계산** (%)
- **부호 변경** (+/-)
- **소수점 입력** (.)

#### 2.1.2 과학 함수
- **삼각함수**: sin, cos, tan
- **로그 함수**: log (상용로그), ln (자연로그)
- **지수 함수**: 거듭제곱 (^)
- **제곱근** (√)
- **상수**: π (파이)
- **괄호**: (, ) - 연산 우선순위 지정

#### 2.1.3 각도 모드
- **DEG (Degree)**: 도 단위
- **RAD (Radian)**: 라디안 단위
- 세그먼트 컨트롤을 통한 모드 전환

#### 2.1.4 입력 및 편집
- **숫자 입력**: 0-9
- **백스페이스**: 마지막 입력 문자 삭제
- **AC (All Clear)**: 전체 초기화
- **수식 표시**: 입력 중인 수식 실시간 표시
- **결과 표시**: 계산 결과를 큰 글씨로 표시

#### 2.1.5 계산 기록
- **히스토리 버튼**: 이전 계산 기록 조회
- **계산 기록 저장**: 로컬 스토리지에 저장
- **기록 재사용**: 이전 계산식 클릭하여 재사용

#### 2.1.6 설정
- **테마 설정**: 라이트/다크 모드 전환
- **각도 단위 기본값 설정**
- **소수점 자릿수 설정**

---

### 2.2 UI/UX 요구사항

#### 2.2.1 레이아웃 구조
```
┌─────────────────────────────────┐
│  [History]  [●]  [Settings]     │  ← Top App Bar
├─────────────────────────────────┤
│                                 │
│     sin(30) + log(100)          │  ← Expression Display
│            5.65                 │  ← Result Display (Large)
│                                 │
├─────────────────────────────────┤
│  [DEG|RAD]          [⌫]         │  ← Utility Bar
├─────────────────────────────────┤
│ [sin][cos][tan][π][^]           │
│ [log][ln][(][)][√]              │  ← Scientific Functions
├─────────────────────────────────┤
│  [AC][+/-][%][÷]                │
│  [7] [8] [9] [×]                │
│  [4] [5] [6] [−]                │  ← Main Keypad
│  [1] [2] [3] [+]                │
│  [  0   ][.] [=]                │
└─────────────────────────────────┘
```

#### 2.2.2 디자인 시스템

**색상 팔레트**
- Primary: `#135bec` (파란색)
- Background (Light): `#f6f6f8`
- Background (Dark): `#101622`
- Surface (Dark): `#1e293b`
- Surface Darker: `#111827`
- Secondary Surface: `#232f48`
- Accent (Cyan): `#22d3ee` (다크모드 AC 버튼 등)

**타이포그래피**
- 폰트 패밀리: Space Grotesk (Display), Noto Sans (Body)
- 결과 표시: 56px, font-weight: 300 (Light)
- 수식 표시: 20px, opacity: 0.8
- 버튼 텍스트: 14-24px, font-weight: 500

**버튼 스타일**
- **숫자 버튼**: 
  - Light: 흰색 배경, 회색 테두리
  - Dark: `#1e293b` 배경
  - 둥근 모서리: 1rem (16px)
  
- **연산자 버튼**: 
  - Light: Primary 색상 20% 투명도 배경
  - Dark: `#2a364d` 배경, Primary 색상 텍스트
  
- **과학 함수 버튼**: 
  - Light: `#f1f5f9` 배경
  - Dark: `#232f48` 배경
  - 높이: 40px, 둥근 모서리: 0.5rem
  
- **등호(=) 버튼**: 
  - Primary 색상 배경, 흰색 텍스트
  - 그림자 효과: `shadow-lg shadow-primary/30`

**인터랙션**
- Hover: `brightness-110` 또는 배경색 변화
- Active: `scale-95` (클릭 시 살짝 축소)
- Transition: `transition-all` (부드러운 애니메이션)

#### 2.2.3 반응형 디자인
- **모바일 우선**: 320px ~ 768px
- **태블릿**: 768px ~ 1024px
- **데스크톱**: 1024px 이상
- 버튼 크기 및 간격 자동 조정

---

## 3. 기술 요구사항

### 3.1 기술 스택

#### 3.1.1 프론트엔드
- **HTML5**: 시맨틱 마크업
- **CSS3**: 
  - Tailwind CSS (유틸리티 우선 CSS 프레임워크)
  - Custom CSS (스크롤바 숨김 등)
- **JavaScript (Vanilla)**: 
  - 계산 로직
  - DOM 조작
  - 이벤트 핸들링

#### 3.1.2 외부 라이브러리
- **Tailwind CSS**: v3.x (CDN)
- **Google Fonts**: 
  - Space Grotesk
  - Noto Sans
- **Material Symbols**: Google Material Icons

#### 3.1.3 계산 엔진
- **Math.js** 또는 **Vanilla JavaScript Math 객체**
  - 정확한 부동소수점 계산
  - 수식 파싱 및 평가
  - 삼각함수, 로그 함수 지원

### 3.2 브라우저 호환성
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+
- 모바일 브라우저 (iOS Safari, Chrome Mobile)

### 3.3 성능 요구사항
- **초기 로딩 시간**: < 2초
- **계산 응답 시간**: < 100ms
- **애니메이션 프레임레이트**: 60fps
- **번들 크기**: < 500KB (압축 전)

---

## 4. 사용자 스토리

### 4.1 기본 계산
```
As a 사용자
I want to 기본 사칙연산을 수행하고
So that 간단한 계산을 빠르게 할 수 있다

Acceptance Criteria:
- 숫자 버튼 클릭 시 디스플레이에 표시됨
- 연산자 버튼 클릭 시 수식에 추가됨
- = 버튼 클릭 시 정확한 결과가 표시됨
- AC 버튼 클릭 시 모든 입력이 초기화됨
```

### 4.2 과학 함수 사용
```
As a 학생/엔지니어
I want to 삼각함수와 로그 함수를 사용하고
So that 복잡한 과학 계산을 수행할 수 있다

Acceptance Criteria:
- sin(30) 입력 시 DEG 모드에서 0.5 결과
- log(100) 입력 시 2 결과
- 괄호를 사용한 복합 수식 계산 가능
- 각도 모드(DEG/RAD) 전환 시 결과가 올바르게 변경됨
```

### 4.3 계산 기록 조회
```
As a 사용자
I want to 이전 계산 기록을 확인하고
So that 이전 계산을 다시 사용할 수 있다

Acceptance Criteria:
- History 버튼 클릭 시 기록 패널이 열림
- 최근 20개의 계산 기록이 표시됨
- 기록 항목 클릭 시 해당 수식이 입력됨
- 기록은 로컬 스토리지에 저장되어 새로고침 후에도 유지됨
```

### 4.4 테마 변경
```
As a 사용자
I want to 다크/라이트 모드를 전환하고
So that 내 선호에 맞는 환경에서 사용할 수 있다

Acceptance Criteria:
- Settings 버튼 클릭 시 설정 패널이 열림
- 테마 토글 스위치로 모드 전환 가능
- 선택한 테마가 로컬 스토리지에 저장됨
- 시스템 테마 설정 자동 감지 옵션 제공
```

---

## 5. 비기능 요구사항

### 5.1 접근성 (Accessibility)
- **키보드 네비게이션**: Tab, Enter, Escape 키 지원
- **스크린 리더**: ARIA 레이블 적용
- **색상 대비**: WCAG 2.1 AA 기준 준수
- **포커스 표시**: 명확한 포커스 인디케이터

### 5.2 보안
- **XSS 방지**: 사용자 입력 sanitization
- **CSP (Content Security Policy)**: 적절한 CSP 헤더 설정
- **HTTPS**: 프로덕션 환경에서 HTTPS 사용

### 5.3 SEO
- **메타 태그**: 적절한 title, description
- **Open Graph**: 소셜 미디어 공유 최적화
- **시맨틱 HTML**: 의미 있는 HTML 태그 사용

### 5.4 데이터 저장
- **로컬 스토리지**: 
  - 계산 기록 (최대 100개)
  - 사용자 설정 (테마, 각도 모드 등)
  - 데이터 크기: < 1MB

---

## 6. 개발 단계 및 일정

### Phase 1: MVP (2주)
- [x] 디자인 시스템 구축
- [ ] 기본 UI 레이아웃 구현
- [ ] 숫자 입력 및 기본 연산 기능
- [ ] 과학 함수 구현
- [ ] 각도 모드 전환 기능

### Phase 2: 고급 기능 (1주)
- [ ] 계산 기록 기능
- [ ] 설정 패널 구현
- [ ] 테마 전환 기능
- [ ] 키보드 입력 지원

### Phase 3: 최적화 및 테스트 (1주)
- [ ] 성능 최적화
- [ ] 크로스 브라우저 테스트
- [ ] 접근성 개선
- [ ] 버그 수정

### Phase 4: 배포 (3일)
- [ ] 프로덕션 빌드
- [ ] 호스팅 설정 (Vercel/Netlify)
- [ ] 도메인 연결
- [ ] 모니터링 설정

---

## 7. 성공 지표 (KPI)

### 7.1 사용자 지표
- **일일 활성 사용자 (DAU)**: 목표 1,000명 (3개월 내)
- **평균 세션 시간**: > 3분
- **재방문율**: > 40%

### 7.2 기술 지표
- **페이지 로드 시간**: < 2초 (90th percentile)
- **에러율**: < 0.1%
- **Lighthouse 점수**: 
  - Performance: > 90
  - Accessibility: > 95
  - Best Practices: > 90
  - SEO: > 90

### 7.3 비즈니스 지표
- **사용자 만족도**: > 4.5/5.0
- **버그 리포트**: < 5개/월
- **기능 요청**: 수집 및 우선순위화

---

## 8. 리스크 및 대응 방안

### 8.1 기술적 리스크
| 리스크 | 영향도 | 확률 | 대응 방안 |
|--------|--------|------|-----------|
| 부동소수점 계산 오류 | 높음 | 중간 | Math.js 라이브러리 사용, 정밀도 테스트 강화 |
| 브라우저 호환성 문제 | 중간 | 낮음 | Polyfill 사용, 크로스 브라우저 테스트 |
| 성능 저하 | 중간 | 낮음 | 코드 최적화, 번들 크기 최소화 |

### 8.2 사용자 경험 리스크
| 리스크 | 영향도 | 확률 | 대응 방안 |
|--------|--------|------|-----------|
| 복잡한 수식 입력 어려움 | 중간 | 중간 | 직관적인 UI, 튜토리얼 제공 |
| 모바일 터치 오류 | 높음 | 중간 | 버튼 크기 최적화, 터치 피드백 강화 |
| 접근성 부족 | 중간 | 낮음 | ARIA 레이블, 키보드 네비게이션 구현 |

---

## 9. 향후 확장 계획

### 9.1 추가 기능 (Post-MVP)
- **단위 변환기**: 길이, 무게, 온도 등
- **그래프 기능**: 함수 그래프 시각화
- **프로그래머 모드**: 2진수, 16진수 계산
- **통계 함수**: 평균, 표준편차 등
- **수식 공유**: URL 또는 이미지로 공유
- **오프라인 지원**: PWA (Progressive Web App)

### 9.2 플랫폼 확장
- **모바일 앱**: React Native 또는 Flutter
- **데스크톱 앱**: Electron
- **브라우저 확장**: Chrome Extension

---

## 10. 참고 자료

### 10.1 디자인 참고
- 제공된 디자인 파일: `stitch.zip`
  - `code.html`: 완전한 UI 구현 코드
  - `screen.png`: 디자인 스크린샷

### 10.2 경쟁 제품 분석
- Google Calculator
- Desmos Scientific Calculator
- Microsoft Calculator
- Wolfram Alpha

### 10.3 기술 문서
- [MDN Web Docs - Math](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math)
- [Tailwind CSS Documentation](https://tailwindcss.com/docs)
- [Math.js Documentation](https://mathjs.org/docs/)

---

## 11. 부록

### 11.1 용어 정의
- **DEG (Degree)**: 각도를 도(°) 단위로 측정
- **RAD (Radian)**: 각도를 라디안 단위로 측정 (1 RAD = 180/π degrees)
- **AC (All Clear)**: 모든 입력 및 계산 결과 초기화
- **PWA (Progressive Web App)**: 웹과 네이티브 앱의 장점을 결합한 애플리케이션

### 11.2 수식 파싱 규칙
- 연산자 우선순위: 괄호 > 지수 > 곱셈/나눗셈 > 덧셈/뺄셈
- 암묵적 곱셈: `2π` → `2 × π`, `sin30` → `sin(30)`
- 각도 단위 자동 적용: DEG/RAD 모드에 따라 자동 변환

### 11.3 에러 처리
- **Division by Zero**: "Error: Division by zero" 표시
- **Invalid Input**: "Error: Invalid expression" 표시
- **Overflow**: "Error: Number too large" 표시
- **Domain Error**: "Error: Math domain error" (예: sqrt(-1) in real mode)

---

**문서 버전**: 1.0  
**작성일**: 2025-12-23  
**작성자**: Product Team  
**검토자**: Engineering Team, Design Team  
**승인자**: Product Owner
